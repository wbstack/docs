(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{394:function(e,o,t){"use strict";t.r(o);var s=t(24),a=Object(s.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"dns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dns"}},[e._v("#")]),e._v(" DNS")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("All DNS management currently takes place in "),t("a",{attrs:{href:"https://github.com/wbstack/deploy/tree/main/gce/dns",target:"_blank",rel:"noopener noreferrer"}},[e._v("the deploy repo repo gce/dns directory"),t("OutboundLink")],1),e._v(".\nHowever we would recommend that you setup resources like this using "),t("strong",[e._v("Terraform")]),e._v(".")])]),e._v(" "),t("p",[e._v("The DNS records for "),t("code",[e._v("wbstack.com")]),e._v(" and "),t("code",[e._v("opencura.com")]),e._v(" are managed on Google Cloud.")]),e._v(" "),t("p",[e._v("DNS zones were origionally created using deployment manager and the "),t("code",[e._v("createZones.sh")]),e._v(" script.")]),e._v(" "),t("p",[e._v("The zone files where then retrieved using "),t("code",[e._v("pull.sh")]),e._v(".")]),e._v(" "),t("p",[e._v("They can be modified in the deploy repo, updated live using "),t("code",[e._v("push.sh")]),e._v(" and then committed.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("When running "),t("code",[e._v("createZones.sh")]),e._v(" you may receive an error if you have not yet enabled the Cloud DNS API.")]),e._v(" "),t("p",[e._v("The error message will provide you with a link to enable this API.")])]),e._v(" "),t("p",[e._v("You can check the DNS status using a tool such as "),t("a",{attrs:{href:"https://freedns.afraid.org/domain/dnstrace.php?domain=wbstack.com&submit=Trace",target:"_blank",rel:"noopener noreferrer"}},[e._v("this"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"needed-records"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#needed-records"}},[e._v("#")]),e._v(" Needed Records")]),e._v(" "),t("p",[t("code",[e._v("NS")]),e._v(" and "),t("code",[e._v("SOA")]),e._v(" records are needed for both domains, when setting up the Google Cloud zone these should be provided for you when you "),t("code",[e._v("pull.sh")]),e._v(".")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("The nameservers that Google want you to use for different zones may differ.")]),e._v(" "),t("p",[e._v("For example "),t("code",[e._v("wbstack.com")]),e._v(" uses "),t("code",[e._v("ns-cloud-e[1234].googledomains.com")]),e._v(" but "),t("code",[e._v("opencura.com")]),e._v(" uses "),t("code",[e._v("ns-cloud-d[1234].googledomains.com")]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"wbstack-com"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wbstack-com"}},[e._v("#")]),e._v(" wbstack.com")]),e._v(" "),t("p",[t("code",[e._v("wbstack.com")]),e._v(" & "),t("code",[e._v("*.wbstack.com")]),e._v(" for general traffic, such as www, api etc.")]),e._v(" "),t("p",[e._v("Various "),t("strong",[e._v("mail")]),e._v(" related records are needed.\nMailgun documentation was followed to create these.")]),e._v(" "),t("p",[t("code",[e._v("sites-1.dyna.wbstack.com")]),e._v(" is used as a "),t("code",[e._v("CNAME")]),e._v(" target for custom wiki domains used as part of the platform.")]),e._v(" "),t("p",[t("code",[e._v("wiki.wbstack.com")]),e._v(" was created to point to the self hosted community documentation site.")]),e._v(" "),t("h3",{attrs:{id:"opencura-com"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#opencura-com"}},[e._v("#")]),e._v(" opencura.com")]),e._v(" "),t("p",[t("code",[e._v("*.opencura.com")]),e._v(" points to the platform static IP for serving wikis created with free subdomains.")])])}),[],!1,null,null,null);o.default=a.exports}}]);